# 確率統計の理解
この資料では、確率・統計の主な用語を解説します。
この資料は、確率・統計の教科書ではありません。学術的な正確さは目指しませんので、理論としての確率・統計を
学びたい場合は、確率・統計の教科書で学んでください。
この資料では、データサイエンスの講義で必要となる確率・統計の理解のために、
最小限の理解を得ることを目指します。
## 1 確率
確率とは何でしょう。
サイコロを振ったとき1が出る確率は1/6ですね。2が出る確率も3が出る確率もどの目が出る確率も同じ1/6です。
これはサイコロの目が出る確率はすべて等しい。そしてn通りの事が等しい確率で起こるのであればその確率は1/nであるからです。
コインの裏表であればそれぞれ起きる確率は1/2ですね。

それでは サイコロの目が等しい確率で出るということはどうしてわかるのでしょうか。
これは経験によってそう信じているわけです。しかし本当にサイコロの目が1/6の確率で起こるとは限りませんね。もしかしたらサイコロが歪んでいるかもしれません。

## 2 確率に関する仮説と検証
科学は検証方法です。科学的主張は検証可能でなければなりません。これは物理、化学、統計学でも同様です。

そこで、そこで確率についての仮説をたてる場合にも仮説をたてて、検証し、仮説が正しいかどうかを検証します。

まず目の前の現象がどのような確率で起こるかを仮定します。これが確率に関する仮説です。
その仮説が正しいかどうか、これを検証しますが、そのために実験をしたりデータを検証できればよいわけです。

確率の仮説が正しいかどうかという議論は非常に多く行われるのでそのような場合の道筋をまずしっかりと理解して慣れておきましょう。

確率に関して仮説を立ててそれが正しいかどうかという議論をするときの色の仕方をまず簡単に説明してみます。
まずコインを10取ってコインの表と裏が1/2の確率で出るということを主張するとします。
そこでこの主張が正しいかどうか試しにコインをなげてみることにしましょう。
1回目表が出ました。
オモテウラの確率は1/2でしょうか、皆さんどう思いますか？
わかりませんよね。
もう一度投げてみましょうまた表が出ました。
オモテウラは1/2の確率でしょうか。どうもそうではないと思う人が少し出てきたかもしれませんでも1/2の確率でも2回続けて表をでこともありそうですね。ですからまだわからないわけです。
3回目も表が出まし。たどうでしょうまだ表俺が1/2の確率だと思う人はいますか。いや非常に運が悪かっただけでやはり3回も手が出ることだって絶対ないとは言えませんね。
でもさっきよりはその確信はだいぶ下がったと言えるのではないでしょうか。
10回続けて表が出ました。
どうでしょう本当に1/2の確率で表が出るのであればこんなことはありえない！と思えてきますね。

これが確率に関する仮説の正しさを検証する、基本的な方法です。

つまりある確率で物事が起こると仮定する。
そして実験をしたりデータを入手したりします。

仮説のもとに、得られたデータがおきる確率を計算します。

もしそれがほとんど起きないようなことであれば仮定がうたがわしい、
つまり最初に仮定した確率が違うに違いない、と結論するわけです。

逆に観測されたことが十分起こりえることであれば仮説は肯定されたことになります。

まだ少し難しいかもしれませんね。
実際の例でもう一度考えてみましょう。

まずコインの表と裏が1/2の確率で出ると仮定します。
これに対して果たして表が10回連続で出るということがあり得るだろうか。
それは2のマイナス10乗つまり1/1024の確率でしか起きませんね。
ですからもコインの表裏の確率が1/2であるとすると、コインが連続して10回表は1/1024の確率でしか起こらないから、
それが最初におこったということは、仮定がおかしい、と考えるわけです。

## 3 対立仮説、帰無仮説

さてこのような検証の仕方をするわけですが、この検証の方法の論理をより厳密に表すために特別な用語を使います。
それを使って同じことを説明していきましょう。

まずコインのオモテウラの確率が1/2でない可能性があるか検証したいわけです。
この時1/2ではないという仮説を対立仮説と呼びます。

そしてこれを検証するためには後でそれがありえないということを説明する仮説を建てるわけですがこの場合はコインのオモテウラが1/2の確率であるという仮説になります。そしてこの仮説はあとで否定しますので帰無仮説.ややわかりにくい方ですが無に帰す仮説ということで帰無仮説と呼びます。
そして帰無仮説のもとで観測したことがあり得るかということを確率で計算するわけです。
星コインが10回表になったら、帰無仮説が正しいとすればそれが起こる確率は1024ぶんのいちとなりますね。帰無仮説が正しければ観測されたことは非常に小さい確率でしか起こり得ないだから仮説が間違っていると結論付けるわけです。
ここでは確率と対立仮説帰無仮説の意味とそれらの使い方について説明しましたまずこれをしっかりと理解してください。

## 4 有意水準、P値
さて確率と対立仮説と帰無仮説お造り帰無仮説によって起こり得ないようなことが起こった時に帰無仮説が否定されるということがわかりました。それではこのほとんどありえないというのはどのように表せばいいでしょう。確率的な事象は、でたらめにおきますから、どんなに実験をくりかえしたりデータを集めても、仮説が100%ただしいとか、100%間違いである、とは主張できない、ということはわかりますね。

そこで、非常に小さな確率を指定して、その非常に小さな確率よりも小さい確率の事が起きれば、殆どありえないことが起きたから否定する。もしそれより大きければ、仮定によっておきるべきことがおきたから、仮定を肯定する、という評価のしかたをします。

この小さな確率というのはもしそれによって非常に確実に仮説を否定したいのであれば非常に小さな確率である必要があるし、まあまあありえないだろうという程度で良ければ多少大きな確率でもいいわけです。

原発が事故をおこさない、ということのためなら、おこりえない事象は非常に小さな確率にしておかなければいけませんね。でも大学生の皆さんが、研究の結果を分析するのなら、20回に一回程度間違えても、たいしたことはない。

そこで、このように帰無仮説を否定する基準とする確率を「有意水準」、意味がある水準という言葉であらわします。難しい言葉ですが、要するに確率です。もし有意水準より稀なことが起きればそれは意味がある、という意味です。

従って有意水準は小さいほど厳密に検証することになります。例えば有意水準5%で帰無仮説が否定されるとは、帰無仮説が正しいなら5%以下の確率でしかおきないことがおきた。有意水準1%でなら、同じく1%の確率でしかおきないことがおきた。ということになります。
ここでは有意水準と帰無仮説の関係について説明しました。有意水準、帰無仮説、帰無仮説が否定された、という言い回しはこれからよく使うので、よく理解しておいてください。