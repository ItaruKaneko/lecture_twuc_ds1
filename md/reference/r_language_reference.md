# R 言語の基礎
- [R 言語の基礎](#r-言語の基礎)
- [1. この文書について](#1-この文書について)
- [2. R言語の基礎](#2-r言語の基礎)
  - [2.1.  変数と代入](#21--変数と代入)
  - [2.2. 変数名](#22-変数名)
    - [2.3. 文字列, コメント, cat](#23-文字列-コメント-cat)
- [3. ベクトル](#3-ベクトル)
  - [3.1. ベクトルとその要素](#31-ベクトルとその要素)
  - [3.2. ベクトルに対する演算](#32-ベクトルに対する演算)
  - [3.3. 数列](#33-数列)
  - [3.4. 整数以外の定数](#34-整数以外の定数)
- [4. 制御命令](#4-制御命令)
  - [4.1. 関数](#41-関数)
  - [4.2. if](#42-if)
  - [4.3. for](#43-for)
  - [4.4. while](#44-while)
- [5. 配列と行列](#5-配列と行列)
  - [5.1. 初期化](#51-初期化)
  - [5.2. 行列の初期化](#52-行列の初期化)
  - [5.3. 配列、行列の要素の初期化](#53-配列行列の要素の初期化)
- [6. R 言語の資料](#6-r-言語の資料)

# 1. この文書について


このフォルダでは R 言語の基本的な文法と使い方を示します。

R 言語で利用できる、統計ライブラリについては以下に示します。

r_funciton_library

R 言語の特徴として、自由に使える統計データがあります。
こちらは以下に示します。

r_dataset_reference


# 2. R言語の基礎

## 2.1.  変数と代入


~~~
x <- 3

y <- 2

z <- x + y

print(z)
~~~


x, y, z のような文字は変数をあらわします。

x <- 3 は変数にxという変数に3という数値を記憶させることを意味します。

z <- x + y で右辺の計算式の結果を左辺の変数に代入します。

~~~
print(z)
~~~

は変数zの値を出力します。

結果 5 が表示されます。

~~~
x <- 10
y <- 5
z <- x + y
print(z)
~~~

このように代入をすると、前の値は上書きされます。

この結果は 

15

になります。

~~~
x <- x + 1
print(x)
~~~

このように同じ変数が右辺、左辺にあっても大丈夫です。右辺を計算してから、左辺の変数に代入されます。

結果は 

11

になります。

プログラミングを始めたばかりだと、代入はちょっと混乱することがありますが、慣れれば大丈夫。

## 2.2. 変数名

~~~
hensu <- 99 
hensu_plus_1 <- hensu + 1
print(hensu_plus_1)
~~~

このように、長い変数名も使えます。
変数の意味をあらわす変数名としておくとわかりやすい。

英字ではじまり、英字、数字が続くものであればだいじょうぶ。

途中、下線以外の記号は使えません。


変数名の例

~~~~
a
x1
This_is_very_long_name
Longer_name.uing_dot.no_space.
~~~~

変数の名前として使える文字は、プログラミング言語によって細かいルールが変わります。

めんどうなので細かいルールをおぼえなくても支障ありません。

最初の文字が英文字で、2番目以後の文字が英数字であればだいたい大丈夫です。

区切り文字として下線(_)が使える場合が多いです。

+-*/や <>()[]などが変数名で使えることはまずありません。数式の記号として使うからです。

R言語では '.' (ドット) を変数名の中で使えることは特徴です。

### 2.3. 文字列, コメント, cat

変数には数値以外に文字列も格納できます。

文字列は "xxx" , または 'yyy' のようにシングルくおーとかダブルクオートで囲います。 

文字列を cat(s1,s2,s3) で結合することができます。


~~~
x <- 'is my favorite'
y <- '. I enjoy every'
cat('Strawberry cake', x, 'dessert', y, 'week','.\n')
cat('Green tea', x, 'vebarage', y, 'day', '.\n')
cat('Hakone', x, 'ressort', y, 'year', '.\n')
~~~

のようなプログラムが可能です。


# 3. ベクトル

## 3.1. ベクトルとその要素
c(1,0)

のように書きます。

x <- c(2,3,1)

x * 2

x + 1

このようにベクトルと数値の演算はすべての要素に同じ演算を行います。

ベクトルの要素は x[1] , x[3] のようにあらわします。

~~~
x <- c(2,3,4,5,1)

x[1]

x[3]
~~~

これらは、2, 4 となることはすぐわかると思います。

~~~
x[x[x[3]]]
~~~

は何になるでしょう。

x[3] が4, 

x[x[3]] は x[4] だから 5

したがって、x[x[x[3]]] は x[5] のことだから、1になります。

Python との違い。

Python では　x[0] がベクトルの最初の値になります。R言語ではx[1]が最初の値になります。


## 3.2. ベクトルに対する演算

以下のような演算が使えます

| 関数      | 意味           |
|:--        |:--            |
| cor()     | 相関係数       |
| cusum()   | 累積和         |
| diff()    | 前後の差分     |
| length()  | 要素の数       |
| max()     | 最大値         |
| mean()    | 平均値         |
| median()  | 中央値         |
| min()     | 最小値         |
| order()   | 各要素の位置    |
| prod()    | 要素の掛け算　  |
| range()   | 範囲           |
| rank()    | 各要素の順位    |
| rev()     | 要素の逆順      |
| sd()      | 標準偏差        |
| sort()    | 要素の整列      |
| sum()     | 合計           |
| summary() | 要約統計量     | 
| var()     | 不偏分散       |


## 3.3. 数列

| 式      | 数列           |
|:--        |:--            |
| 1:3      |  1 2 3 |
| 7:4      | 7,6,5,4 |
| rep(3,5) | 3 3 3 3 3 |
| seq(2,12,3) | 2 5 8 11 |
| rep(3:5,3) |  3 4 5 3 4 5 |

Python との違い

Python では終了の数値は含まれません。たとえば 1:5 は 1 2 3 4 となります。Rの場合は含まれます。


## 3.4. 整数以外の定数


|型      | 例           |
|:--        |:--            |
| 実数      | 1.234   |
| 実数      | 0.1234E12 |
| 複素数   |  0.94+ 0.12i |
| 文字列   |  "alphabet 漢字 1234 ひらがな +-*/@#$ " |



|型      | 例           |
|:--        |:--            |
| 空        | NULL       |
| Not Available | NA |
| Not a Number | NaN |
| 無限大   | Inf |

# 4. 制御命令

## 4.1. 関数
~~~
func1 <- function(arg1, arg2) {
    x <- arg1
    y <- arg2
    z <- x + y
    retunr(z + 1)
~~~

## 4.2. if

~~~
if (exp1) }
   x <- x + 1
} else {
   x <- x - 1
}
~~~


## 4.3. for

~~~
for i in 1:3 {
    print(10)
}
~~~

## 4.4. while

~~~
x = 128.0
while(x > 2.0) {
    print(x)
    x <- x / 2.0
}
~~~

# 5. 配列と行列

配列は array 関数で作成できます。
配列の次元は次元ベクトルで指定します。

## 5.1. 初期化
2 x 3 の配列
~~~
x <- array(0, dim=c(2, 3))
print(x)
~~~

この c(2,3) が次元ベクトルです。

長さ 3 の1次元配列
~~~
x <- array(0, dim=c(3))
print(x)
~~~

## 5.2. 行列の初期化
行列は matrix で作成できます。


長さ 3 の配列
~~~
A <- matrix(0, c(3,3))
print(A)
~~~

~~~
A <- matrix(0, c(2,4))
print(A)
~~~

## 5.3. 配列、行列の要素の初期化
配列、行列、ベクトルの初期値はベクトルで与えることができます。

~~~
x <- array(c(11,12,21,22),c(2,4,3)
print(x)
~~~

~~~
A <- matrix(c(11,12,21,22), c(2,2))
print(A)
~~~

# 6. R 言語の資料

R 言語ホームページ
https://www.r-project.org/


CRAN R Project の Web サイト(国内のミラーサイト)
https://cran.ism.ac.jp/


オリジナルは下記になりますが、不可をかけないためにミラーサイトを使いましょう。

~~~
https://cran.r-project.org/
~~~












