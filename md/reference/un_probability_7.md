# 確率の3つのフレームワーク

## 3つのフレームワークがある

確率にはおおきく3つの考え方がある。

- フィッシャー 1890 -1962
- ネイマン―ピアソン ネイマン(1894-1981), ピアソン(1895-1980)
- ベイズ (1701 - 1761)

このうちベイズの業績は最も古いものだが、近年になって脚光をあびるようになった。
現在、ベイズ統計学の全盛期であり、またベイズ統計は非常に有用であることも明らかになった。

## フィッシャーの考え方


帰無仮説をたて、仮説検定をして、仮説の確かさを評価する。
p値

利点: 実際の確率について、根拠のない仮説はたてない
帰無仮説は、おこった事象の確率ではなく、空想上の確率的な世界で、現在おこった事象がおこる確率を計算している
欠点: 事象がおきる確率についてはなにも言ってくれない

## ネイマン・ピアソンの考え方

仮説検定を精密化した

仮説検定に必要な実験の規模を客観的にみつもる方法を示した

利点: 一定の検定力のためにどれだけのサンプルが必要かを形式的に求めることができる
欠点: 必要な実験規模を過大にするのに利用されることがある。

-> ネイマン-ピアソンの理論による検定
デイヴィッド・シュピーゲルハルター. 統計学の極意 (p.292). 草思社. Kindle 版. 

## ベイズ

既知の知識と事象からわからない事実を推定する

例: サイコロの目は1/6と知っている, しかし10回サイコロを振ったの合計が30だと教えてもらっても、1が何回出たかはわからない。これを推定する。

利点: 確率そのものを求めるから実用的だ。知りたいのは株が上がる確率であって、株が上がる確率が高いという帰無仮説のp値なんかはどうでもよい。

欠点: わかっていることが本当にわかっているかはわからない。そこは主観。

### 例

3つのコインがある。
両方表
表裏
両面が裏

この3つのコインからランダムに一つのコインをえらぶ。
コインを一回投げて表が出た場合、次に表が出る確率はどうなるだろうか?

こたえは 1/2ではなく、5/6になる。これは意外だろうか？それとも当然だと思えるだろうか？

この答えが当然だと感じた人も次の例ではすこしむずむずするだろうと思う。

### 間違えやすい点

混同行列 (Confusion Matrix)

| 実際の状態 \ 予測 | 陽性 (Positive) | 陰性 (Negative) |
|------------------|-----------------|-----------------|
| 陽性 (Positive)  | 真陽性 (TP)     | 偽陰性 (FN)     |
| 陰性 (Negative)  | 偽陽性 (FP)     | 真陰性 (TN)     |

95%の精度のドーピング検査がある。95%の精度というのは、

| 実際の状態 \ 予測 | 陽性 (Positive) | 陰性 (Negative) |
|------------------|-----------------|-----------------|
| 陽性 (Positive)  | 95%      | 5%      |
| 陰性 (Negative)  | 5%      | 95%      |


さて、平均的に2%のアスリートがドーピングをしている場合、

検査で陽性になったアスリートがドーピングをしている確率は？

これは計算すると28%になる。

問題は多くの人が 95% だと思ってしまうことだ。これは正しくない。

### 意外な結論が導かれる - しかし正しい

ベイズ推定には見てきたように、

知っている事実

にもとづいて

確率的な推定を行う

ものである。前提が間違っていれば予測も間違いになる。したがって前提は確実なものでなければならない。
一方、前提さえ正しければ推定自体は正しいし、結果として「事象がおきる確率」が求められる点は使いやすい。

また、特に事前の知識を使うので、事前に多くのことがわかっていると、ベイズ推定の結論は直観と異なることが
あるし、その場合にベイズ推定を使うことで、より確度の高い予測を行うことができる。

## 3つの考え方の使い分け

研究などでは、ある仮説をたて、それが妥当かを検証する場合が多い。その場合には
伝統的にフィッシャーや、ネイマン・ピアソンの流れを継承する理論に基づいて、サンプルの数や、
アルゴリズム、検証を行うことが多いからそれに従うべきである。
伝統的に使っている基準を使えば、自分の仮説が既存のものより優れているか否かということも
説得力をもって示せる。

一方、実社会で統計を使う時にはベイズを使うことが多いだろう。実社会でもとめられるのは、予測であって
仮説の検証ではないからだ。しかもベイズの手法では大量のデータと大量の演算リソースがあると多くの
結果を得られるが、これらはまさにビジネスでは豊富に得られるからだ。



